<!-- ============================================================== -->
<!-- footer -->
<!-- ============================================================== -->
<footer class="footer text-center">
    All Rights Reserved by Matrix-admin. Designed and Developed by <a href="https://wrappixel.com">WrapPixel</a>.
</footer>
<!-- ============================================================== -->
<!-- End footer -->
<!-- ============================================================== -->
</div>
<!-- ============================================================== -->
<!-- End Page wrapper  -->
<!-- ============================================================== -->
</div>
<!-- ============================================================== -->
<!-- End Wrapper -->
<!-- ============================================================== -->
<!-- ============================================================== -->
<!-- All Jquery -->
<!-- ============================================================== -->
<script src="/assets/libs/jquery/dist/jquery.min.js"></script>
<!-- Bootstrap tether Core JavaScript -->
<script src="/assets/libs/popper.js/dist/umd/popper.min.js"></script>
<script src="/assets/libs/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/assets/libs/perfect-scrollbar/dist/perfect-scrollbar.jquery.min.js"></script>
<script src="/assets/extra-libs/sparkline/sparkline.js"></script>
<!--Wave Effects -->
<script src="/dist/js/waves.js"></script>
<!--Menu sidebar -->
<script src="/dist/js/sidebarmenu.js"></script>
<!--Custom JavaScript -->
<script src="/dist/js/custom.min.js"></script>
<!--This page JavaScript -->
<!-- <script src="dist/js/pages/dashboards/dashboard1.js"></script> -->
<!-- Charts js Files -->
<script src="/assets/libs/flot/excanvas.js"></script>
<script src="/assets/libs/flot/jquery.flot.js"></script>
<script src="/assets/libs/flot/jquery.flot.pie.js"></script>
<script src="/assets/libs/flot/jquery.flot.time.js"></script>
<script src="/assets/libs/flot/jquery.flot.stack.js"></script>
<script src="/assets/libs/flot/jquery.flot.crosshair.js"></script>
<script src="/assets/libs/flot.tooltip/js/jquery.flot.tooltip.min.js"></script>
<script src="dist/js/pages/chart/chart-page-init.js"></script>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
    const togglePasswordEl = document.getElementById("togglePassword");
    const passwordField = document.getElementById("password");

    if (togglePasswordEl && passwordField) {
        togglePasswordEl.addEventListener("change", function () {
            if (this.checked) {
                passwordField.type = "text";
            } else {
                passwordField.type = "password";
            }
        });
    }
</script>

<!-- FILTER SCRIPT -->
<script>
    const searchInput = document.getElementById("blogSearch");
    const categoryFilter = document.getElementById("categoryFilter");
    const statusFilter = document.getElementById("statusFilter");
    const blogCards = document.querySelectorAll(".blog-card");

    if (searchInput && blogCards.length > 0) {
        function filterBlogs() {
            const searchValue = searchInput.value.toLowerCase();
            const selectedCategory = categoryFilter ? categoryFilter.value : "";
            const selectedStatus = statusFilter ? statusFilter.value : "";

            blogCards.forEach(card => {
                const title = card.dataset.title || "";
                const author = card.dataset.author || "";
                const category = card.dataset.category || "";
                const status = card.dataset.status || "";
                const tags = card.dataset.tags || "";

                const searchMatch =
                    title.includes(searchValue) ||
                    author.includes(searchValue) ||
                    category.includes(searchValue) ||
                    tags.includes(searchValue);

                const categoryMatch =
                    !categoryFilter || selectedCategory === "" || category === selectedCategory;

                const statusMatch =
                    !statusFilter || selectedStatus === "" || status === selectedStatus;

                if (searchMatch && categoryMatch && statusMatch) {
                    card.style.display = "block";
                } else {
                    card.style.display = "none";
                }
            });
        }

        searchInput.addEventListener("keyup", filterBlogs);
        if (categoryFilter) categoryFilter.addEventListener("change", filterBlogs);
        if (statusFilter) statusFilter.addEventListener("change", filterBlogs);
    }
</script>


<script>
    <% if (locals.flash.success && locals.flash.success.length > 0) { %>
        const Toast = Swal.mixin({
            toast: true,
            position: "top-end",
            showConfirmButton: false,
            timer: 3000,
            timerProgressBar: true,
            didOpen: (toast) => {
                toast.onmouseenter = Swal.stopTimer;
                toast.onmouseleave = Swal.resumeTimer;
            }
        });
        Toast.fire({
            icon: "success",
            title: "<%= locals.flash.success %>"
        });
    <% } %>
</script>

<script>
    <% if (flash.error.length > 0) { %>
        Swal.fire({
            icon: "error",
            title: 'Error',
            text: '<%= flash.error %>',
            footer: '<a href="#">Why do I have this issue?</a>'
        });
    <% } %>
</script>

</body>

</html>